{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"D:\\\\ReactProject\\\\javaproject\\\\lod.gg\\\\lodgg_frontend\\\\pages\\\\summoner.js\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport LolLayout from '../components/LolLayout';\nimport Header from '../components/Summoner/Header';\nimport Tier from '../components/Summoner/Tier';\nimport Leagues from '../components/Summoner/Leagues';\nimport { useRouter } from 'next/router';\nimport * as api from '../api/api';\n\nvar Summoner = function Summoner() {\n  console.log(matchesData);\n\n  var _useState = useState(''),\n      userinfo = _useState[0],\n      setUserinfo = _useState[1];\n\n  var _useState2 = useState(''),\n      leagueEntriesInfo = _useState2[0],\n      setLeagueEntriesfirst = _useState2[1];\n\n  var _useState3 = useState(''),\n      matchlist = _useState3[0],\n      setMatchlist = _useState3[1];\n\n  var _useState4 = useState([]),\n      matchesData = _useState4[0],\n      setMatchesdata = _useState4[1];\n\n  var router = useRouter();\n  var name = router.query.name;\n  useEffect(function () {\n    var fetchUserinfo =\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var result;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return api.getInfo(name);\n\n              case 2:\n                result = _context.sent;\n                setUserinfo(result.data);\n                fetchLeagueinfo(result.data);\n                fetchMatchlist(result.data);\n\n              case 6:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function fetchUserinfo() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    var fetchLeagueinfo =\n    /*#__PURE__*/\n    function () {\n      var _ref2 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(userinfo) {\n        var result;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return api.getleagueFirst(userinfo.id);\n\n              case 2:\n                result = _context2.sent;\n                setLeagueEntriesfirst(result.data);\n\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      return function fetchLeagueinfo(_x) {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n\n    var fetchMatchlist =\n    /*#__PURE__*/\n    function () {\n      var _ref3 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3(userinfo) {\n        var result;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return api.getmatchlists(userinfo.accountId);\n\n              case 2:\n                result = _context3.sent;\n                setMatchlist(result.data);\n                fetchMatchdata(result.data);\n\n              case 5:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      return function fetchMatchlist(_x2) {\n        return _ref3.apply(this, arguments);\n      };\n    }();\n\n    var fetchMatchdata =\n    /*#__PURE__*/\n    function () {\n      var _ref4 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee4(matchlist) {\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                matchlist.matches.map(function (v) {\n                  api.getmatches(v.gameId).then(function (response) {\n                    setMatchesdata(function (matchesData) {\n                      return matchesData.concat(response.data);\n                    });\n                  })[\"catch\"](function (error) {\n                    return console.log(error);\n                  });\n                });\n\n              case 1:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }));\n\n      return function fetchMatchdata(_x3) {\n        return _ref4.apply(this, arguments);\n      };\n    }();\n\n    fetchUserinfo();\n  }, [name]);\n  return __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, __jsx(LolLayout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }), __jsx(Header, {\n    userinfo: userinfo,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }), __jsx(Tier, {\n    leagueEntriesInfo: leagueEntriesInfo,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }), matchesData.map(function (v, i) {\n    __jsx(Leagues, {\n      key: i,\n      name: name,\n      v: v,\n      matchList: matchlist,\n      matchesData: matchesData,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    });\n  }));\n};\n\nexport default Summoner;","map":{"version":3,"sources":["D:\\ReactProject\\javaproject\\lod.gg\\lodgg_frontend\\pages\\summoner.js"],"names":["React","useState","useEffect","LolLayout","Header","Tier","Leagues","useRouter","api","Summoner","console","log","matchesData","userinfo","setUserinfo","leagueEntriesInfo","setLeagueEntriesfirst","matchlist","setMatchlist","setMatchesdata","router","name","query","fetchUserinfo","getInfo","result","data","fetchLeagueinfo","fetchMatchlist","getleagueFirst","id","getmatchlists","accountId","fetchMatchdata","matches","map","v","getmatches","gameId","then","response","concat","error","i"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport LolLayout from '../components/LolLayout';    \r\nimport Header from '../components/Summoner/Header';\r\nimport Tier from '../components/Summoner/Tier';\r\nimport Leagues from '../components/Summoner/Leagues';\r\nimport { useRouter } from 'next/router';\r\nimport * as api from '../api/api';\r\n\r\nconst Summoner = () => {\r\n    console.log(matchesData)\r\n    const [userinfo, setUserinfo] = useState('');\r\n    const [leagueEntriesInfo, setLeagueEntriesfirst] = useState('');\r\n    const [matchlist, setMatchlist] = useState('');\r\n    const [matchesData, setMatchesdata] = useState([]);\r\n    const router = useRouter();\r\n    const { name } = router.query\r\n\r\n    useEffect(() => {\r\n        const fetchUserinfo = async () => {\r\n            const result = await api.getInfo(name)\r\n            setUserinfo(result.data)\r\n            fetchLeagueinfo(result.data)\r\n            fetchMatchlist(result.data)\r\n        }\r\n        const fetchLeagueinfo = async (userinfo) => {\r\n            const result = await api.getleagueFirst(userinfo.id)\r\n            setLeagueEntriesfirst(result.data)\r\n        }\r\n        const fetchMatchlist = async (userinfo) => {\r\n            const result = await api.getmatchlists(userinfo.accountId)\r\n            setMatchlist(result.data)\r\n            fetchMatchdata(result.data)\r\n        }\r\n        const fetchMatchdata = async (matchlist) => {\r\n            matchlist.matches.map(v => {\r\n                api.getmatches(v.gameId)\r\n                .then((response) => {\r\n                    setMatchesdata(matchesData => matchesData.concat(response.data));\r\n                })\r\n                .catch(error => console.log(error))\r\n            })\r\n        }\r\n        fetchUserinfo();\r\n    },[name])\r\n    return (\r\n        <div>   \r\n            <LolLayout/>\r\n            <Header userinfo={userinfo}/>\r\n            <Tier leagueEntriesInfo={leagueEntriesInfo}/>\r\n            {\r\n                matchesData.map((v,i) => {\r\n                    <Leagues key={i} name={name} v={v} matchList={matchlist} matchesData={matchesData}/>\r\n                })\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Summoner;"]},"metadata":{},"sourceType":"module"}